var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}const c="undefined"!=typeof window;let h=c?()=>window.performance.now():()=>Date.now(),u=c?t=>requestAnimationFrame(t):t;const p=new Set;function l(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&u(l)}function d(t,e){t.appendChild(e)}function f(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function m(t){const e=b("style");return function(t,e){d(t.head||t,e)}(f(t),e),e}function y(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function w(){return v(" ")}function k(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}const x=new Set;let T,S=0;function A(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-s.length;r&&(t.style.animation=s.join(", "),S-=r,S||u((()=>{S||(x.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),x.clear())})))}function F(t){T=t}const O=[],P=[],R=[],N=[],B=Promise.resolve();let j=!1;function $(t){R.push(t)}let L=!1;const M=new Set;function D(){if(!L){L=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];F(e),q(e.$$)}for(F(null),O.length=0;P.length;)P.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];M.has(e)||(M.add(e),e())}R.length=0}while(O.length);for(;N.length;)N.pop()();j=!1,L=!1,M.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}let I;function V(t,e,n){t.dispatchEvent(function(t,e,n=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,!1,e),s}(`${e?"intro":"outro"}${n}`))}const U=new Set;function K(t,e){t&&t.i&&(U.delete(t),t.i(e))}const z={duration:0};function Y(n,s,r){let i,a,c=s(n,r),d=!1,y=0;function g(){i&&A(n,i)}function b(){const{delay:s=0,duration:r=300,easing:o=e,tick:b=t,css:v}=c||z;v&&(i=function(t,e,n,s,r,o,i,a=0){const c=16.666/s;let h="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*o(t);h+=100*t+`%{${i(s,1-s)}}\n`}const u=h+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,l=f(t);x.add(l);const d=l.__svelte_stylesheet||(l.__svelte_stylesheet=m(t).sheet),y=l.__svelte_rules||(l.__svelte_rules={});y[p]||(y[p]=!0,d.insertRule(`@keyframes ${p} ${u}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${p} ${s}ms linear ${r}ms 1 both`,S+=1,p}(n,0,1,r,s,o,v,y++)),b(0,1);const w=h()+s,k=w+r;a&&a.abort(),d=!0,$((()=>V(n,!0,"start"))),a=function(t){let e;return 0===p.size&&u(l),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}((t=>{if(d){if(t>=k)return b(1,0),V(n,!0,"end"),g(),d=!1;if(t>=w){const e=o((t-w)/r);b(e,1-e)}}return d}))}let v=!1;return{start(){v||(v=!0,A(n),o(c)?(c=c(),(I||(I=Promise.resolve(),I.then((()=>{I=null}))),I).then(b)):b())},invalidate(){v=!1},end(){d&&(g(),d=!1)}}}function H(t,e){t.d(1),e.delete(t.key)}function W(t,e){-1===t.$$.dirty[0]&&(O.push(t),j||(j=!0,B.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,i,a,c,h,u,p,l=[-1]){const d=T;F(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:h,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:s(),dirty:l,skip_bound:!1,root:i.target||d.$$.root};p&&p(f.root);let m=!1;if(f.ctx=a?a(e,i.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return f.ctx&&h(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),m&&W(e,t)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!c&&c(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(g)}else f.fragment&&f.fragment.c();i.intro&&K(e.$$.fragment),function(t,e,s,i){const{fragment:a,on_mount:c,on_destroy:h,after_update:u}=t.$$;a&&a.m(e,s),i||$((()=>{const e=c.map(n).filter(o);h?h.push(...e):r(e),t.$$.on_mount=[]})),u.forEach($)}(e,i.target,i.anchor,i.customElement),D()}F(d)}function J(t){const e=t-1;return e*e*e+1}function G(t,{delay:e=0,duration:n=400,easing:s=J,x:r=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(t),c=+a.opacity,h="none"===a.transform?"":a.transform,u=c*(1-i);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${h} translate(${(1-t)*r}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*e}`}}const Z=[];const Q=function(e,n=t){let s;const r=new Set;function o(t){if(i(e,t)&&(e=t,s)){const t=!Z.length;for(const t of r)t[1](),Z.push(t,e);if(t){for(let t=0;t<Z.length;t+=2)Z[t][0](Z[t+1]);Z.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const c=[i,a];return r.add(c),1===r.size&&(s=n(o)||t),i(e),()=>{r.delete(c),0===r.size&&(s(),s=null)}}}}({question:"Loading...",answers:["..."],typingTimes:[]});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function tt(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}function et(t,e,n,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(t,n):r?r.value=n:e.set(t,n),n}function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function st(t){var e={exports:{}};return t(e,e.exports),e.exports}var rt=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ot=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],it=function(t){var e=t,n=t.indexOf("["),s=t.indexOf("]");-1!=n&&-1!=s&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));for(var r,o,i=rt.exec(t||""),a={},c=14;c--;)a[ot[c]]=i[c]||"";return-1!=n&&-1!=s&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(t,e){var n=/\/{2,9}/g,s=e.replace(n,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||s.splice(0,1);"/"==e.substr(e.length-1,1)&&s.splice(s.length-1,1);return s}(0,a.path),a.queryKey=(r=a.query,o={},r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(o[e]=n)})),o),a};var at=1e3,ct=60*at,ht=60*ct,ut=24*ht,pt=7*ut,lt=365.25*ut,dt=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*lt;case"weeks":case"week":case"w":return n*pt;case"days":case"day":case"d":return n*ut;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ht;case"minutes":case"minute":case"mins":case"min":case"m":return n*ct;case"seconds":case"second":case"secs":case"sec":case"s":return n*at;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=ut)return ft(t,e,ut,"day");if(e>=ht)return ft(t,e,ht,"hour");if(e>=ct)return ft(t,e,ct,"minute");if(e>=at)return ft(t,e,at,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=ut)return Math.round(t/ut)+"d";if(e>=ht)return Math.round(t/ht)+"h";if(e>=ct)return Math.round(t/ct)+"m";if(e>=at)return Math.round(t/at)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ft(t,e,n,s){var r=e>=1.5*n;return Math.round(t/n)+" "+s+(r?"s":"")}var mt=function(t){function e(t){let s,r,o,i=null;function a(...t){if(!a.enabled)return;const n=a,r=Number(new Date),o=r-(s||r);n.diff=o,n.prev=s,n.curr=r,s=r,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let i=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((s,r)=>{if("%%"===s)return"%";i++;const o=e.formatters[r];if("function"==typeof o){const e=t[i];s=o.call(n,e),t.splice(i,1),i--}return s})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(r!==e.namespaces&&(r=e.namespaces,o=e.enabled(t)),o),set:t=>{i=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,n){const s=e(this.namespace+(void 0===n?":":n)+t);return s.log=this.log,s}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(s),...e.skips.map(s).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const s=("string"==typeof t?t:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(t=s[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,s;for(n=0,s=e.skips.length;n<s;n++)if(e.skips[n].test(t))return!1;for(n=0,s=e.names.length;n<s;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=dt,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e},yt=st((function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let s=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(s++,"%c"===t&&(r=s))})),e.splice(r,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=mt(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),gt=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;const n=yt("socket.io-client:url");e.url=function(t,e="",s){let r=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(n("protocol-less url %s",t),t=void 0!==s?s.protocol+"//"+t:"https://"+t),n("parse %s",t),r=it(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(s&&s.port===r.port?"":":"+r.port),r}})),bt=st((function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}})),vt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),wt=function(t){const e=t.xdomain,n=t.xscheme,s=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||bt))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&s)return new XDomainRequest}catch(t){}if(!e)try{return new(vt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}};const kt=Object.create(null);kt.open="0",kt.close="1",kt.ping="2",kt.pong="3",kt.message="4",kt.upgrade="5",kt.noop="6";const Ct=Object.create(null);Object.keys(kt).forEach((t=>{Ct[kt[t]]=t}));var _t={PACKET_TYPES:kt,PACKET_TYPES_REVERSE:Ct,ERROR_PACKET:{type:"error",data:"parser error"}};const{PACKET_TYPES:Et}=_t,xt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Tt="function"==typeof ArrayBuffer,St=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};var At=({type:t,data:e},n,s)=>{return xt&&e instanceof Blob?n?s(e):St(e,s):Tt&&(e instanceof ArrayBuffer||(r=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?n?s(e):St(new Blob([e]),s):s(Et[t]+(e||""));var r},Ft=st((function(t,e){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.encode=function(t){var e,s=new Uint8Array(t),r=s.length,o="";for(e=0;e<r;e+=3)o+=n[s[e]>>2],o+=n[(3&s[e])<<4|s[e+1]>>4],o+=n[(15&s[e+1])<<2|s[e+2]>>6],o+=n[63&s[e+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,s,r,o,i,a=.75*t.length,c=t.length,h=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(e=0;e<c;e+=4)s=n.indexOf(t[e]),r=n.indexOf(t[e+1]),o=n.indexOf(t[e+2]),i=n.indexOf(t[e+3]),p[h++]=s<<2|r>>4,p[h++]=(15&r)<<4|o>>2,p[h++]=(3&o)<<6|63&i;return u}}));const{PACKET_TYPES_REVERSE:Ot,ERROR_PACKET:Pt}=_t;let Rt;"function"==typeof ArrayBuffer&&(Rt=Ft);const Nt=(t,e)=>{if(Rt){const n=Rt.decode(t);return Bt(n,e)}return{base64:!0,data:t}},Bt=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t;var jt=(t,e)=>{if("string"!=typeof t)return{type:"message",data:Bt(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:Nt(t.substring(1),e)};return Ot[n]?t.length>1?{type:Ot[n],data:t.substring(1)}:{type:Ot[n]}:Pt};const $t=String.fromCharCode(30);var Lt={protocol:4,encodePacket:At,encodePayload:(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach(((t,o)=>{At(t,!1,(t=>{s[o]=t,++r===n&&e(s.join($t))}))}))},decodePacket:jt,decodePayload:(t,e)=>{const n=t.split($t),s=[];for(let t=0;t<n.length;t++){const r=jt(n[t],e);if(s.push(r),"error"===r.type)break}return s}},Mt=st((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+t];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<s.length;r++)if((n=s[r])===e||n.fn===e){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){s=0;for(var r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}));const Dt=setTimeout,qt=clearTimeout;var It={pick:(t,...e)=>e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{}),installTimerFunctions:(t,e)=>{e.useNativeTimers?(t.setTimeoutFn=Dt.bind(vt),t.clearTimeoutFn=qt.bind(vt)):(t.setTimeoutFn=setTimeout.bind(vt),t.clearTimeoutFn=clearTimeout.bind(vt))}};const{installTimerFunctions:Vt}=It,Ut=yt("engine.io-client:transport");var Kt,zt=class extends Mt{constructor(t){super(),Vt(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState?this.write(t):Ut("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(t){const e=Lt.decodePacket(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}},Yt=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},Ht=function(t){for(var e={},n=t.split("&"),s=0,r=n.length;s<r;s++){var o=n[s].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e},Wt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Xt={},Jt=0,Gt=0;function Zt(t){var e="";do{e=Wt[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function Qt(){var t=Zt(+new Date);return t!==Kt?(Jt=0,Kt=t):t+"."+Zt(Jt++)}for(;Gt<64;Gt++)Xt[Wt[Gt]]=Gt;Qt.encode=Zt,Qt.decode=function(t){var e=0;for(Gt=0;Gt<t.length;Gt++)e=64*e+Xt[t.charAt(Gt)];return e};var te=Qt;const ee=yt("engine.io-client:polling");var ne=class extends zt{get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{ee("paused"),this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(ee("we are currently polling - waiting to pause"),t++,this.once("pollComplete",(function(){ee("pre-pause polling complete"),--t||e()}))),this.writable||(ee("we are currently writing - waiting to pause"),t++,this.once("drain",(function(){ee("pre-pause writing complete"),--t||e()})))}else e()}poll(){ee("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){ee("polling got data %s",t);Lt.decodePayload(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose(),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():ee('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=()=>{ee("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(ee("transport open - closing"),t()):(ee("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,Lt.encodePayload(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=te()),this.supportsBinary||t.sid||(t.b64=1),t=Yt(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}};const{pick:se,installTimerFunctions:re}=It,oe=yt("engine.io-client:polling-xhr");function ie(){}const ae=null!=new wt({xdomain:!1}).responseType;class ce extends Mt{constructor(t,e){super(),re(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=se(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new wt(t);try{oe("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=()=>{this.onLoad()},e.onerror=()=>{this.onError(e.responseText)}):e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},oe("xhr data %s",this.data),e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=ce.requestsCount++,ce.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=ie:this.xhr.onreadystatechange=ie,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete ce.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(ce.requestsCount=0,ce.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",he);else if("function"==typeof addEventListener){addEventListener("onpagehide"in vt?"pagehide":"unload",he,!1)}function he(){for(let t in ce.requests)ce.requests.hasOwnProperty(t)&&ce.requests[t].abort()}var ue=class extends ne{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=ae&&!e}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new ce(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(t=>{this.onError("xhr post error",t)}))}doPoll(){oe("xhr poll");const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t=>{this.onError("xhr poll error",t)})),this.pollXhr=t}},pe=ce;ue.Request=pe;const le=/\n/g,de=/\\n/g;let fe;var me=class extends ne{constructor(t){super(t),this.query=this.query||{},fe||(fe=vt.___eio=vt.___eio||[]),this.index=fe.length,fe.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=t=>{this.onError("jsonp poll error",t)};const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(t,e):(document.head||document.body).appendChild(t),this.script=t;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&this.setTimeoutFn((function(){const t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)}doWrite(t,e){let n;if(!this.form){const t=document.createElement("form"),e=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=n,t.method="POST",t.setAttribute("accept-charset","utf-8"),e.name="d",t.appendChild(e),document.body.appendChild(t),this.form=t,this.area=e}function s(){r(),e()}this.form.action=this.uri();const r=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(t){this.onError("jsonp polling iframe removal error",t)}try{const t='<iframe src="javascript:0" name="'+this.iframeId+'">';n=document.createElement(t)}catch(t){n=document.createElement("iframe"),n.name=this.iframeId,n.src="javascript:0"}n.id=this.iframeId,this.form.appendChild(n),this.iframe=n};r(),t=t.replace(de,"\\\n"),this.area.value=t.replace(le,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&s()}:this.iframe.onload=s}};const ye="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0);var ge={WebSocket:vt.WebSocket||vt.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:ye};const{pick:be}=It,{WebSocket:ve,usingBrowserWebSocket:we,defaultBinaryType:ke,nextTick:Ce}=ge,_e=yt("engine.io-client:websocket"),Ee="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class xe extends zt{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Ee?{}:be(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=we&&!Ee?e?new ve(t,e):new ve(t):new ve(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||ke,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;Lt.encodePacket(n,this.supportsBinary,(t=>{const e={};if(!we&&(n.options&&(e.compress=n.options.compress),this.opts.perMessageDeflate)){("string"==typeof t?Buffer.byteLength(t):t.length)<this.opts.perMessageDeflate.threshold&&(e.compress=!1)}try{we?this.ws.send(t):this.ws.send(t,e)}catch(t){_e("websocket closed before onclose event")}s&&Ce((()=>{this.writable=!0,this.emit("drain")}),this.setTimeoutFn)}))}}onClose(){zt.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=te()),this.supportsBinary||(t.b64=1),t=Yt(t),t.length&&(t="?"+t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}check(){return!(!ve||"__initialize"in ve&&this.name===xe.prototype.name)}}var Te={polling:function(t){let e,n=!1,s=!1;const r=!1!==t.jsonp;if("undefined"!=typeof location){const e="https:"===location.protocol;let r=location.port;r||(r=e?443:80),n=t.hostname!==location.hostname||r!==t.port,s=t.secure!==e}if(t.xdomain=n,t.xscheme=s,e=new wt(t),"open"in e&&!t.forceJSONP)return new ue(t);if(!r)throw new Error("JSONP disabled");return new me(t)},websocket:xe};const Se=yt("engine.io-client:socket"),{installTimerFunctions:Ae}=It;class Fe extends Mt{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=it(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=it(e.host).host),Ae(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=Ht(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){Se('creating transport "%s"',t);const e=function(t){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=Lt.protocol,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Se("options: %j",n),new Te[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Fe.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emit("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return Se("error while creating transport: %s",t),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){Se("setting transport %s",t.name),this.transport&&(Se("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(t){Se('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),n=!1;Fe.priorWebsocketSuccess=!1;const s=()=>{n||(Se('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(s=>{if(!n)if("pong"===s.type&&"probe"===s.data){if(Se('probe transport "%s" pong',t),this.upgrading=!0,this.emit("upgrading",e),!e)return;Fe.priorWebsocketSuccess="websocket"===e.name,Se('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{n||"closed"!==this.readyState&&(Se("changing transport and sending upgrade packet"),h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emit("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{Se('probe transport "%s" failed',t);const n=new Error("probe error");n.transport=e.name,this.emit("upgradeError",n)}})))};function r(){n||(n=!0,h(),e.close(),e=null)}const o=n=>{const s=new Error("probe error: "+n);s.transport=e.name,r(),Se('probe transport "%s" failed because of error: %s',t,n),this.emit("upgradeError",s)};function i(){o("transport closed")}function a(){o("socket closed")}function c(t){e&&t.name!==e.name&&(Se('"%s" works - aborting "%s"',t.name,e.name),r())}const h=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",i),this.removeListener("close",a),this.removeListener("upgrading",c)};e.once("open",s),e.once("error",o),e.once("close",i),this.once("close",a),this.once("upgrading",c),e.open()}onOpen(){if(Se("socket open"),this.readyState="open",Fe.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){Se("starting upgrade probes");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Se('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else Se('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Se("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,s){if("function"==typeof e&&(s=e,e=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),Se("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.removeListener("upgrade",e),this.removeListener("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){Se("socket error %j",t),Fe.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(Se('socket close with reason: "%s"',t),this.clearTimeoutFn(this.pingIntervalTimer),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Fe.priorWebsocketSuccess=!1,Fe.protocol=Lt.protocol;var Oe=Fe,Pe=(t,e)=>new Oe(t,e),Re=Oe,Ne=Oe.protocol,Be=zt,je=Te,$e=Lt;Pe.Socket=Re,Pe.protocol=Ne,Pe.Transport=Be,Pe.transports=je,Pe.parser=$e;var Le=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;const n="function"==typeof ArrayBuffer,s=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);function i(t){return n&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||r&&t instanceof Blob||o&&t instanceof File}e.isBinary=i,e.hasBinary=function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(t(e[n]))return!0;return!1}if(i(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0;return!1}})),Me=st((function(t,e){function n(t,e){if(!t)return t;if(Le.isBinary(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const s=new Array(t.length);for(let r=0;r<t.length;r++)s[r]=n(t[r],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const r in t)t.hasOwnProperty(r)&&(s[r]=n(t[r],e));return s}return t}function s(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=s(t[n],e);else if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(t[n]=s(t[n],e));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0,e.deconstructPacket=function(t){const e=[],s=t.data,r=t;return r.data=n(s,e),r.attachments=e.length,{packet:r,buffers:e}},e.reconstructPacket=function(t,e){return t.data=s(t.data,e),t.attachments=void 0,t}})),De=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;const n=yt("socket.io-parser");var s;e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(s=e.PacketType||(e.PacketType={}));e.Encoder=class{encode(t){return n("encoding packet %j",t),t.type!==s.EVENT&&t.type!==s.ACK||!Le.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===s.EVENT?s.BINARY_EVENT:s.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==s.BINARY_EVENT&&t.type!==s.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),n("encoded %j as %s",t,e),e}encodeAsBinary(t){const e=Me.deconstructPacket(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}};class r extends Mt{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===s.BINARY_EVENT||e.type===s.BINARY_ACK?(this.reconstructor=new o(e),0===e.attachments&&super.emit("decoded",e)):super.emit("decoded",e);else{if(!Le.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emit("decoded",e))}}decodeString(t){let e=0;const o={type:Number(t.charAt(0))};if(void 0===s[o.type])throw new Error("unknown packet type "+o.type);if(o.type===s.BINARY_EVENT||o.type===s.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const s=t.substring(n,e);if(s!=Number(s)||"-"!==t.charAt(e))throw new Error("Illegal attachments");o.attachments=Number(s)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}o.nsp=t.substring(n,e)}else o.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const n=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}o.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!r.isPayloadValid(o.type,n))throw new Error("invalid payload");o.data=n}return n("decoded %s as %j",t,o),o}static isPayloadValid(t,e){switch(t){case s.CONNECT:return"object"==typeof e;case s.DISCONNECT:return void 0===e;case s.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case s.EVENT:case s.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case s.ACK:case s.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=r;class o{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Me.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}})),qe=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}})),Ie=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;e.StrictEventEmitter=class extends Mt{on(t,e){return super.on(t,e),this}once(t,e){return super.once(t,e),this}emit(t,...e){return super.emit(t,...e),this}emitReserved(t,...e){return super.emit(t,...e),this}listeners(t){return super.listeners(t)}}})),Ve=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const n=yt("socket.io-client:socket"),s=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class r extends Ie.StrictEventEmitter{constructor(t,e,n){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[(0,qe.on)(t,"open",this.onopen.bind(this)),(0,qe.on)(t,"packet",this.onpacket.bind(this)),(0,qe.on)(t,"error",this.onerror.bind(this)),(0,qe.on)(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(s.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const r={type:De.PacketType.EVENT,data:e,options:{}};r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++);const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)?n("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){n("transport is open - connecting"),"function"==typeof this.auth?this.auth((t=>{this.packet({type:De.PacketType.CONNECT,data:t})})):this.packet({type:De.PacketType.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){n("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case De.PacketType.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.PacketType.EVENT:case De.PacketType.BINARY_EVENT:this.onevent(t);break;case De.PacketType.ACK:case De.PacketType.BINARY_ACK:this.onack(t);break;case De.PacketType.DISCONNECT:this.ondisconnect();break;case De.PacketType.CONNECT_ERROR:const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];n("emitting event %j",e),null!=t.id&&(n("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let s=!1;return function(...r){s||(s=!0,n("sending ack %j",r),e.packet({type:De.PacketType.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(n("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):n("bad ack %s",t.id)}onconnect(t){n("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>this.packet(t))),this.sendBuffer=[]}ondisconnect(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:De.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=r})),Ue=Ke;function Ke(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ke.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Ke.prototype.reset=function(){this.attempts=0},Ke.prototype.setMin=function(t){this.ms=t},Ke.prototype.setMax=function(t){this.max=t},Ke.prototype.setJitter=function(t){this.jitter=t};var ze,Ye,He,We=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const n=yt("socket.io-client:manager");class s extends Ie.StrictEventEmitter{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,(0,It.installTimerFunctions)(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ue({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const s=e.parser||De;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(n("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;n("opening %s",this.uri),this.engine=Pe(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=(0,qe.on)(e,"open",(function(){s.onopen(),t&&t()})),o=(0,qe.on)(e,"error",(e=>{n("error"),s.cleanup(),s._readyState="closed",this.emitReserved("error",e),t?t(e):s.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;n("connect attempt will timeout after %d",t),0===t&&r();const s=this.setTimeoutFn((()=>{n("connect attempt timed out after %d",t),r(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){n("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push((0,qe.on)(t,"ping",this.onping.bind(this)),(0,qe.on)(t,"data",this.ondata.bind(this)),(0,qe.on)(t,"error",this.onerror.bind(this)),(0,qe.on)(t,"close",this.onclose.bind(this)),(0,qe.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){n("error",t),this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new Ve.Socket(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return void n("socket %s is still active, skipping close",t)}this._close()}_packet(t){n("writing packet %j",t);const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){n("cleanup"),this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){n("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){n("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();n("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(n("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(n("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(n("reconnect success"),t.onreconnect())})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}e.Manager=s})),Xe=st((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.io=e.Socket=e.Manager=e.protocol=void 0;const n=yt("socket.io-client");t.exports=e=r;const s=e.managers={};function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};const r=(0,gt.url)(t,e.path||"/socket.io"),o=r.source,i=r.id,a=r.path,c=s[i]&&a in s[i].nsps;let h;return e.forceNew||e["force new connection"]||!1===e.multiplex||c?(n("ignoring socket cache for %s",o),h=new We.Manager(o,e)):(s[i]||(n("new io instance for %s",o),s[i]=new We.Manager(o,e)),h=s[i]),r.query&&!e.query&&(e.query=r.queryKey),h.socket(r.path,e)}e.io=r,Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return De.protocol}}),e.connect=r;var o=We;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return o.Manager}}),Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return Ve.Socket}}),e.default=r})),Je=nt(Xe);Je.Manager,Je.Socket;ze=new WeakMap,Ye=new WeakMap,He=new WeakMap;const Ge=new class{constructor(){ze.set(this,0),Ye.set(this,null),He.set(this,500);const t="localhost"===document.location.hostname?"ws":"wss";this.socket=Je(`${t}://${document.location.hostname}:8000`),this.socket.on("update state",(t=>{console.log(t),Q.set(t)}))}async updateQuestion(t){return this.socket.emit("update question",t),new Promise(((t,e)=>{this.socket.on("ok",t),this.socket.on("error",e)}))}async addAnswer(t){return console.log("Sending answer: "+t),this.socket.emit("add answer",t),new Promise(((t,e)=>{this.socket.on("ok",t),this.socket.on("error",e)}))}signalTyping(){null!=tt(this,Ye,"f")&&clearTimeout(tt(this,Ye,"f")),et(this,Ye,setTimeout((()=>{this.socket.emit("am typing"),et(this,ze,Date.now(),"f")}),Math.max(0,tt(this,He,"f")-(Date.now()-tt(this,ze,"f")))),"f")}};function Ze(t,e,n){const s=t.slice();return s[9]=e[n],s}function Qe(e){let n;return{c(){n=b("p"),n.textContent="Many people are typing..."},m(t,e){y(t,n,e)},p:t,d(t){t&&g(n)}}}function tn(t){let e,n,s,r=["Two","Three","Four","Five"][t[2]-2]+"";return{c(){e=b("p"),n=v(r),s=v(" people are typing...")},m(t,r){y(t,e,r),d(e,n),d(e,s)},p(t,e){4&e&&r!==(r=["Two","Three","Four","Five"][t[2]-2]+"")&&_(n,r)},d(t){t&&g(e)}}}function en(e){let n;return{c(){n=b("p"),n.textContent="Someone is typing..."},m(t,e){y(t,n,e)},p:t,d(t){t&&g(n)}}}function nn(t){let e,n,s,o,i,a=t[1].length>=3&&sn(t);return{c(){e=b("fieldset"),n=b("textarea"),s=w(),a&&a.c(),C(n,"class","has-text-centered svelte-1cxc0e0"),C(n,"name",""),C(n,"id",""),C(n,"rows","3"),C(n,"placeholder","Your answer..."),C(e,"class","form-group")},m(r,c){y(r,e,c),d(e,n),E(n,t[1]),d(e,s),a&&a.m(e,null),o||(i=[k(n,"input",t[6]),k(n,"keypress",t[7])],o=!0)},p(t,s){2&s&&E(n,t[1]),t[1].length>=3?a?a.p(t,s):(a=sn(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(t){t&&g(e),a&&a.d(),o=!1,r(i)}}}function sn(e){let n,s,r,o,i,a;return{c(){n=b("label"),s=b("input"),r=w(),o=b("div"),o.innerHTML='<div class="paper-switch-tile-card-front border">Send</div> \n\t\t\t\t\t\t<div class="paper-switch-tile-card-back border background-success">Sent!</div>',C(s,"id","paperSwitch1"),C(s,"name","paperSwitch1"),C(s,"type","checkbox"),C(o,"class","paper-switch-tile-card border"),C(n,"for","paperSwitch1"),C(n,"class","paper-switch-tile svelte-1cxc0e0")},m(t,c){y(t,n,c),d(n,s),d(n,r),d(n,o),i||(a=k(s,"change",e[4]),i=!0)},p:t,d(t){t&&g(n),i=!1,a()}}}function rn(e,n){let s,r,o,i,a,c=n[9]+"";return{key:e,first:null,c(){s=b("div"),r=b("p"),o=v(c),i=w(),C(r,"class","card-text svelte-1cxc0e0"),C(s,"class","card svelte-1cxc0e0"),this.first=s},m(t,e){y(t,s,e),d(s,r),d(r,o),d(s,i)},p(t,e){n=t,8&e&&c!==(c=n[9]+"")&&_(o,c)},i(t){a||$((()=>{a=Y(s,G,{y:500}),a.start()}))},o:t,d(t){t&&g(s)}}}function on(e){let n,s,r,o,i,a,c=e[3].question+"",h=[],u=new Map;function p(t,e){return 1==t[2]?en:t[2]>1&&t[2]<6?tn:t[2]>6?Qe:void 0}let l=p(e),f=l&&l(e),m=!e[0]&&nn(e),k=e[3].answers;const E=t=>t[9];for(let t=0;t<k.length;t+=1){let n=Ze(e,k,t),s=E(n);u.set(s,h[t]=rn(s,n))}return{c(){n=b("main"),s=b("h1"),r=v(c),o=w(),f&&f.c(),i=w(),m&&m.c(),a=w();for(let t=0;t<h.length;t+=1)h[t].c();C(s,"class","has-text-centered"),C(n,"class","svelte-1cxc0e0")},m(t,e){y(t,n,e),d(n,s),d(s,r),d(n,o),f&&f.m(n,null),d(n,i),m&&m.m(n,null),d(n,a);for(let t=0;t<h.length;t+=1)h[t].m(n,null)},p(t,[e]){8&e&&c!==(c=t[3].question+"")&&_(r,c),l===(l=p(t))&&f?f.p(t,e):(f&&f.d(1),f=l&&l(t),f&&(f.c(),f.m(n,i))),t[0]?m&&(m.d(1),m=null):m?m.p(t,e):(m=nn(t),m.c(),m.m(n,a)),8&e&&(k=t[3].answers,h=function(t,e,n,s,r,o,i,a,c,h,u,p){let l=t.length,d=o.length,f=l;const m={};for(;f--;)m[t[f].key]=f;const y=[],g=new Map,b=new Map;for(f=d;f--;){const t=p(r,o,f),a=n(t);let c=i.get(a);c?s&&c.p(t,e):(c=h(a,t),c.c()),g.set(a,y[f]=c),a in m&&b.set(a,Math.abs(f-m[a]))}const v=new Set,w=new Set;function k(t){K(t,1),t.m(a,u),i.set(t.key,t),u=t.first,d--}for(;l&&d;){const e=y[d-1],n=t[l-1],s=e.key,r=n.key;e===n?(u=e.first,l--,d--):g.has(r)?!i.has(s)||v.has(s)?k(e):w.has(r)?l--:b.get(s)>b.get(r)?(w.add(s),k(e)):(v.add(r),l--):(c(n,i),l--)}for(;l--;){const e=t[l];g.has(e.key)||c(e,i)}for(;d;)k(y[d-1]);return y}(h,e,E,1,t,k,u,n,H,rn,null,Ze))},i(t){for(let t=0;t<k.length;t+=1)K(h[t])},o:t,d(t){t&&g(n),f&&f.d(),m&&m.d();for(let t=0;t<h.length;t+=1)h[t].d()}}}function an(t,e,n){let s;a(t,Q,(t=>n(3,s=t)));let r=!1,o="";async function i(t){if(t.preventDefault(),!(o.length<3)){n(1,o=o.trim());try{await Ge.addAnswer(o),n(0,r=!0)}catch(t){n(0,r=!1)}}}function c(){Ge.signalTyping()}let h=0;function u(){n(2,h=s.typingTimes.filter((t=>Date.now()-t<3e3)).length)}Q.subscribe(u),setInterval(u,200);return[r,o,h,s,i,c,function(){o=this.value,n(1,o)},t=>{c(),"Enter"==t.code&&i(t)}]}const cn=new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),X(this,t,an,on,i,{})}}({target:document.body,props:{}});return cn}();
//# sourceMappingURL=bundle.js.map
